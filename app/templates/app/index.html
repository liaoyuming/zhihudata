{% extends 'app/bootstrap.html' %}

{% load bootstrap3 %}
{% load static %}
{% load helper %}

{% block bootstrap3_extra_head %}
    <link rel="icon" type="image/ico" href="" />

    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static "vendor/css/animate/animate.min.css" %}">
    <link type="text/css" rel="stylesheet" media="all" href="{% static "vendor/js/mmenu/css/jquery.mmenu.all.css" %}" />
    <link rel="stylesheet" href="{% static "vendor/js/videobackground/css/jquery.videobackground.css" %}">
    <link rel="stylesheet" href="{% static "vendor/css/bootstrap-checkbox.css" %}">


    <link href="{% static "vendor/css/minimal.css" %}" rel="stylesheet">
    <link href="{% static "css/index.css" %}" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js" %}"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js" %}"></script>
    <![endif]-->

{% endblock %}

{% block bootstrap3_content %}


  <div class="bg-1">



    <!-- Preloader -->
    <div class="mask"><div id="loader"></div></div>
    <!--/Preloader -->

    <!-- Wrap all page content here -->
    <div id="wrap">




      <!-- Make page fluid -->
      <div class="row">




      {% include "app/navbar_left.html" %}


        <!-- Page content -->
        <div id="content" class="col-md-12">

          <!-- page header -->
          <div class="pageheader">
            <h2>
                <i class="fa fa-tachometer"></i> 数据统计分析
                <span></span>
            </h2>

          </div>
          <!-- /page header -->

          <!-- content main container -->
          <div class="main">

            <!-- cards -->
            <div class="row cards">

              <div class="card-container col-lg-4 col-sm-6 col-sm-12">
                <div class="card card-redbrown hover">
                  <div class="front">

                    <div class="media">
                      <span class="pull-left">
                        <i class="fa fa-users media-object"></i>
                      </span>

                      <div class="media-body">
                        <small>抓取用户数据</small>
                        <h2 class="media-heading animate-number" data-value="{{ statistic_count.user }}" data-animation-duration="1500">0</h2>
                      </div>
                    </div>
                  </div>
                  <div class="back">
                      <i class="fa fa-bar-chart-o fa-4x"></i>
                      <span>用户统计</span>
                  </div>
                </div>
              </div>


              <div class="card-container col-lg-4 col-sm-6 col-sm-12">
                <div class="card card-blue hover">
                  <div class="front">

                    <div class="media">
                      <span class="pull-left">
                            <i class="fa fa-question-circle media-object" aria-hidden="true"></i>
                      </span>

                      <div class="media-body">
                        <small>抓取问题数据</small>
                        <h2 class="media-heading animate-number" data-value="{{ statistic_count.question }}" data-animation-duration="1500">0</h2>
                      </div>
                    </div>
                  </div>
                  <div class="back">
                      <i class="fa fa-bar-chart-o fa-4x"></i>
                      <span>问题统计</span>
                  </div>
                </div>
              </div>



              <div class="card-container col-lg-4 col-sm-6 col-sm-12">
                <div class="card card-greensea hover">
                  <div class="front">
                    <div class="media">
                      <span class="pull-left">
                            <i class="fa fa-pencil media-object" aria-hidden="true"></i>
                      </span>

                      <div class="media-body">
                        <small>抓取回答数据</small>
                        <h2 class="media-heading animate-number" data-value="{{ statistic_count.answer }}" data-animation-duration="1500">0</h2>
                      </div>
                    </div>
                  </div>
                  <div class="back">
                      <i class="fa fa-bar-chart-o fa-4x"></i>
                      <span>回答统计</span>
                  </div>
                </div>
              </div>

            </div>
            <!-- /cards -->


            <!-- row -->
            <div class="row">


              <!-- col 8 -->
              <div class="col-lg-8 col-md-12">

                <!-- tile -->
                <section class="tile transparent">


                  <!-- tile header -->
                  <div class="tile-header color transparent-black textured rounded-top-corners">
                    <h1><strong>统计</strong> 粉丝和关注</h1>
                    <div class="controls">
                      <a href="#" class="remove"><i class="fa fa-times"></i></a>
                    </div>
                  </div>
                  <!-- /tile header -->


                  <!-- tile widget -->
                  <div class="tile-widget color transparent-black textured">
                    <div id="statistics-chart" class="chart statistics" style="height: 250px;"></div>
                  </div>
                  <!-- /tile widget -->

                </section>
                <!-- /tile -->



                <!-- tile -->
                <section class="tile color transparent-black">

                  <!-- tile header -->
                  <div class="tile-header">
                    <h1><strong>粉丝数</strong> 统计</h1>
                    <div class="controls">
                      <a href="#" class="remove"><i class="fa fa-times"></i></a>
                    </div>
                  </div>
                  <!-- /tile header -->


                  <!-- tile body -->
                  <div class="tile-body no-vpadding">
                    <div class="table-responsive">
                      <table class="table table-custom table-sortable nomargin">
                        <thead>
                          <tr>
                            <th class="">粉丝数</th>
                            <th class="">人数</th>
                            <th class="">比例</th>
                          </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>0</td>
                                <td>{{ statistic.user.follower_count.zero }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.follower_count.zero|divide:statistic.user.follower_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.follower_count.zero|divide:statistic.user.follower_count.all|percent:2 }}"></div>
                                  </div>
                                </td>
                            </tr>
                            <tr>
                                <td>1-10</td>
                                <td>{{ statistic.user.follower_count.one_to_ten }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.follower_count.one_to_ten|divide:statistic.user.follower_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.follower_count.one_to_ten|divide:statistic.user.follower_count.all|percent:2 }}"></div>
                                  </div>
                                </td>
                            </tr>
                            <tr>
                                <td>11-100</td>
                                <td>{{ statistic.user.follower_count.eleven_to_hundred }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.follower_count.eleven_to_hundred|divide:statistic.user.follower_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.follower_count.eleven_to_hundred|divide:statistic.user.follower_count.all|percent:2 }}"></div>
                                  </div>
                                </td>
                            </tr>
                            <tr>
                                <td>101-1000</td>
                                <td>{{ statistic.user.follower_count.hundred_to_thousand }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.follower_count.hundred_to_thousand|divide:statistic.user.follower_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.follower_count.hundred_to_thousand|divide:statistic.user.follower_count.all|percent:2 }}"></div>
                                  </div>
                                </td>

                            </tr>
                            <tr>
                                <td>1000+</td>
                                <td>{{ statistic.user.follower_count.thousand_to_more }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.follower_count.thousand_to_more|divide:statistic.user.follower_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.follower_count.thousand_to_more|divide:statistic.user.follower_count.all|percent:2 }}"></div>
                                  </div>
                                </td>

                            </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <!-- /tile body -->
                </section>
                <!-- /tile -->

                <!-- tile -->
                <section class="tile color transparent-black">

                  <!-- tile header -->
                  <div class="tile-header">
                    <h1><strong>关注数</strong> 统计</h1>
                    <div class="controls">
                      <a href="#" class="remove"><i class="fa fa-times"></i></a>
                    </div>
                  </div>
                  <!-- /tile header -->


                  <!-- tile body -->
                  <div class="tile-body no-vpadding">
                    <div class="table-responsive">
                      <table class="table table-custom table-sortable nomargin">
                        <thead>
                          <tr>
                            <th class="">关注数</th>
                            <th class="">人数</th>
                            <th class="">比例</th>
                          </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>0</td>
                                <td>{{ statistic.user.following_count.zero }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.following_count.zero|divide:statistic.user.following_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.following_count.zero|divide:statistic.user.following_count.all|percent:2 }}"></div>
                                  </div>
                                </td>
                            </tr>
                            <tr>
                                <td>1-10</td>
                                <td>{{ statistic.user.following_count.one_to_ten }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.following_count.one_to_ten|divide:statistic.user.following_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.following_count.one_to_ten|divide:statistic.user.following_count.all|percent:2 }}"></div>
                                  </div>
                                </td>
                            </tr>
                            <tr>
                                <td>11-100</td>
                                <td>{{ statistic.user.following_count.eleven_to_hundred }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.following_count.eleven_to_hundred|divide:statistic.user.following_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.following_count.eleven_to_hundred|divide:statistic.user.following_count.all|percent:2 }}"></div>
                                  </div>
                                </td>
                            </tr>
                            <tr>
                                <td>101-1000</td>
                                <td>{{ statistic.user.following_count.hundred_to_thousand }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.following_count.hundred_to_thousand|divide:statistic.user.following_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.following_count.hundred_to_thousand|divide:statistic.user.following_count.all|percent:2 }}"></div>
                                  </div>
                                </td>

                            </tr>
                            <tr>
                                <td>1000+</td>
                                <td>{{ statistic.user.following_count.thousand_to_more }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.following_count.thousand_to_more|divide:statistic.user.following_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.following_count.thousand_to_more|divide:statistic.user.following_count.all|percent:2 }}"></div>
                                  </div>
                                </td>

                            </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <!-- /tile body -->
                </section>
                <!-- /tile -->


                <!-- tile -->
                <section class="tile color transparent-black">

                  <!-- tile header -->
                  <div class="tile-header">
                    <h1><strong>问题回答</strong> 统计</h1>
                    <div class="controls">
                      <a href="#" class="remove"><i class="fa fa-times"></i></a>
                    </div>
                  </div>
                  <!-- /tile header -->


                  <!-- tile body -->
                  <div class="tile-body no-vpadding">
                    <div class="table-responsive">
                      <table class="table table-custom table-sortable nomargin">
                        <thead>
                          <tr>
                            <th class="">问题回答数</th>
                            <th class="">人数</th>
                            <th class="">比例</th>
                          </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>0</td>
                                <td>{{ statistic.user.answer_count.zero }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.answer_count.zero|divide:statistic.user.answer_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.answer_count.zero|divide:statistic.user.answer_count.all|percent:2 }}"></div>
                                  </div>
                                </td>
                            </tr>
                            <tr>
                                <td>1-10</td>
                                <td>{{ statistic.user.answer_count.one_to_ten }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.answer_count.one_to_ten|divide:statistic.user.answer_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.answer_count.one_to_ten|divide:statistic.user.answer_count.all|percent:2 }}"></div>
                                  </div>
                                </td>
                            </tr>
                            <tr>
                                <td>11-100</td>
                                <td>{{ statistic.user.answer_count.eleven_to_hundred }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.answer_count.eleven_to_hundred|divide:statistic.user.answer_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.answer_count.eleven_to_hundred|divide:statistic.user.answer_count.all|percent:2 }}"></div>
                                  </div>
                                </td>
                            </tr>
                            <tr>
                                <td>100+</td>
                                <td>{{ statistic.user.answer_count.hundred_to_more }}</td>
                                <td class="progress-cell">
                                  <div class="progress-info">
                                    <div class="percent"><span class="animate-number" data-value="{{ statistic.user.answer_count.hundred_to_more|divide:statistic.user.answer_count.all|percent:2 }}" data-animation-duration="1500">0</span></div>
                                  </div>
                                  <div class="progress progress-little">
                                    <div class="progress-bar progress-bar-transparent-white animate-progress-bar" data-percentage="{{ statistic.user.answer_count.hundred_to_more|divide:statistic.user.answer_count.all|percent:2 }}"></div>
                                  </div>
                                </td>

                            </tr>

                        </tbody>
                      </table>
                    </div>
                  </div>
                  <!-- /tile body -->

                </section>
                <!-- /tile -->


              </div>
              <!-- /col 8 -->



              <!-- col 4 -->
              <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">




                <!-- tile -->
                <section class="tile color transparent-black textured">

                  <!-- tile header -->
                  <div class="tile-header">
                    <h1><strong>性别</strong> 统计</h1>
                    <div class="controls">
                      <a href="#" class="remove"><i class="fa fa-times"></i></a>
                    </div>
                  </div>
                  <!-- /tile header -->

                  <!-- tile body -->
                  <div class="tile-body paddingtop">
                      <div id="user_gender_statistic" style="width: 360px; height:360px;"></div>
                  </div>
                  <!-- /tile body -->

                </section>
                <!-- /tile -->


                <!-- tile -->
                <section class="tile color transparent-black">

                  <!-- tile header -->
                  <div class="tile-header">
                    <h1><strong>回答数</strong> 统计</h1>
                    <div class="controls">
                      <a href="#" class="remove"><i class="fa fa-times"></i></a>
                    </div>
                  </div>
                  <!-- /tile header -->

                  <!-- tile body -->
                  <div class="tile-body">
                      <div id="user_answer_count_level_statistic" style="width: 360px; height:360px;"></div>
                  </div>
                  <!-- /tile body -->

                </section>
                <!-- /tile -->


                <!-- tile -->
                <section class="tile color transparent-black">

                  <!-- tile header -->
                  <div class="tile-header">
                    <h1><strong>区域</strong> 统计</h1>
                    <div class="controls">
                      <a href="#" class="remove"><i class="fa fa-times"></i></a>
                    </div>
                  </div>
                  <!-- /tile header -->

                  <!-- tile body -->
                  <div class="tile-body">
                      <div id="user_locations_statistic" style="width: 360px; height:500px;"></div>
                  </div>
                  <!-- /tile body -->




                </section>
                <!-- /tile -->



              </div>
              <!-- /col 4 -->


            </div>
            <!-- /row -->


            </div>
            <!-- /row -->



          </div>
          <!-- /content container -->
        </div>
        <!-- Page content end -->

      </div>
      <!-- Make page fluid-->
    </div>
    <!-- Wrap all page content end -->



    <!-- <section class="videocontent" id="video"></section> -->

    <script type="text/javascript" src="{% static "vendor/js/mmenu/js/jquery.mmenu.min.js" %}"></script>
    <script type="text/javascript" src="{% static "vendor/js/sparkline/jquery.sparkline.min.js" %}"></script>
    <script type="text/javascript" src="{% static "vendor/js/nicescroll/jquery.nicescroll.min.js" %}"></script>
    <script type="text/javascript" src="{% static "vendor/js/animate-numbers/jquery.animateNumbers.js" %}"></script>
    <script type="text/javascript" src="{% static "vendor/js/videobackground/jquery.videobackground.js" %}"></script>
    <script type="text/javascript" src="{% static "vendor/js/blockui/jquery.blockUI.js" %}"></script>

    <script src="{% static "vendor/js/flot/jquery.flot.min.js" %}"></script>
    <script src="{% static "vendor/js/flot/jquery.flot.time.min.js" %}"></script>
    <script src="{% static "vendor/js/flot/jquery.flot.selection.min.js" %}"></script>
    <script src="{% static "vendor/js/flot/jquery.flot.animator.min.js" %}"></script>
    <script src="{% static "vendor/js/flot/jquery.flot.orderBars.js" %}"></script>


    <script src="{% static "vendor/js/minimal.min.js" %}"></script>

    <script type='text/javascript' src='{% static "vendor/js/echarts/dist/echarts.min.js" %}' charset='utf-8'></script>
    <script type='text/javascript' src='{% static "app.js" %}' charset='utf-8'></script>

    <script>
    $(function(){
        var statistic = {{ statistic|json_dumps }};
        var majorByCount = Object.values(statistic.user.major).sort(function(a,b) {
            return b.count - a.count;
        });

        var major_length = majorByCount.length;
        var major_page_size = 5;

        App.DataAnalysis.userGenderStatisticChartInit(statistic.user.gender);
        App.DataAnalysis.userAnswerCountLevelStatisticChartInit(statistic.user.answer_count);
        App.DataAnalysis.userLocationsStatisticChartInit(statistic.user.locations);


      // Initialize card flip
      $('.card.hover').hover(function(){
        $(this).addClass('flip');
      },function(){
        $(this).removeClass('flip');
      });

      // Initialize flot chart
      var d1 =[ [1, statistic.user.follower_count.zero],
            [2, statistic.user.follower_count.one_to_ten],
            [3, statistic.user.follower_count.eleven_to_hundred],
            [4, statistic.user.follower_count.hundred_to_thousand],
            [5, statistic.user.follower_count.thousand_to_more],
      ];
      var d2 =[
            [1, statistic.user.following_count.zero],
            [2, statistic.user.following_count.one_to_ten],
            [3, statistic.user.following_count.eleven_to_hundred],
            [4, statistic.user.following_count.hundred_to_thousand],
            [5, statistic.user.following_count.thousand_to_more],
      ];
      var months = ["0", "1-10", "11-100", "101-1000", "1000+"];

      // flot chart generate
      var plot = $.plotAnimator($("#statistics-chart"),
        [
          {
            label: '粉丝数',
            data: d1,
            lines: {lineWidth:3},
            shadowSize:0,
            color: '#ffffff'
          },
          { label: "关注数",
            data: d2,
            animator: {steps: 99, duration: 500, start:200, direction: "right"},
            lines: {
              fill: .15,
              lineWidth: 0
            },
            color:['#ffffff']
          },{
            label: '粉丝数',
            data: d1,
            points: { show: true, fill: true, radius:6,fillColor:"rgba(0,0,0,.5)",lineWidth:2 },
            color: '#fff',
            shadowSize:0
          },
          { label: "关注数",
            data: d2,
            points: { show: true, fill: true, radius:6,fillColor:"rgba(255,255,255,.2)",lineWidth:2 },
            color: '#fff',
            shadowSize:0
          }
        ],{

        xaxis: {

          tickLength: 0,
          tickDecimals: 0,
          min:1,
          ticks: [[1,"0"], [2, "1-10"], [3, "11-100"], [4, "101-1000"], [5, "1000+"]],

          font :{
            lineHeight: 24,
            weight: "300",
            color: "#ffffff",
            size: 14
          }
        },

        yaxis: {
          ticks: 4,
          tickDecimals: 0,
          tickColor: "rgba(255,255,255,.3)",

          font :{
            lineHeight: 13,
            weight: "300",
            color: "#ffffff"
          }
        },

        grid: {
          borderWidth: {
            top: 0,
            right: 0,
            bottom: 1,
            left: 1
          },
          borderColor: 'rgba(255,255,255,.3)',
          margin:0,
          minBorderMargin:0,
          labelMargin:20,
          hoverable: true,
          clickable: true,
          mouseActiveRadius:6
        },

        legend: { show: false}
      });

      $(window).resize(function() {
        // redraw the graph in the correctly sized div
        plot.resize();
        plot.setupGrid();
        plot.draw();
      });


      // tooltips showing
      $("#statistics-chart").bind("plothover", function (event, pos, item) {
        if (item) {
          var x = item.datapoint[0],
              y = item.datapoint[1];

          $("#tooltip").html('<h1 style="color: #418bca">' + months[x - 1] + '</h1>' + '<strong>' + y + '</strong>' + ' ' + item.series.label)
            .css({top: item.pageY-30, left: item.pageX+5})
            .fadeIn(200);
        } else {
          $("#tooltip").hide();
        }
      });


      //tooltips options
      $("<div id='tooltip'></div>").css({
        position: "absolute",
        //display: "none",
        padding: "10px 20px",
        "background-color": "#ffffff",
        "z-index":"99999"
      }).appendTo("body");



      // sortable table
      $('.table.table-sortable th.sortable').click(function() {
        var o = $(this).hasClass('sort-asc') ? 'sort-desc' : 'sort-asc';
        $('th.sortable').removeClass('sort-asc').removeClass('sort-desc');
        $(this).addClass(o);
      });

      //todo's
      $('#todolist li label').click(function() {
        $(this).toggleClass('done');
      });


    })

    </script>
</div>
{% endblock %}
